<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Motivos de Luchas Sociales</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <style>
        #container {
            min-width: 310px;
            max-width: 800px; /* Limita el ancho máximo si es necesario */
            height: 500px; /* Ajusta la altura según el número de categorías */
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <div id="container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            Highcharts.chart('container', {
                chart: {
                    type: 'bar' // Tipo de gráfico: barras horizontales
                },
                title: {
                    text: 'Motivos de Luchas Sociales Asociadas al Sector Minero Energético 2010-2022',
                    align: 'center' // Centra el título
                },
                subtitle: {
                    text: 'Fuente: Base de datos de luchas sociales - CINEP',
                    align: 'right' // Alinea el subtítulo a la derecha según la referencia
                },
                xAxis: {
                    // Categorías en el eje Y (vertica), que serán las etiquetas de las barras
                    categories: [
                        'Servicios Publicos e Infraestructura',
                        'Incumplimiento Pactos',
                        'Ambientales',
                        'Politicas Estatales',
                        'Pliegos Laborales',
                        'Derechos',
                        'Servicios Sociales',
                        'Solidaridad',
                        'Tierra/Vivienda',
                        'Conmemoraciones',
                        'Contra Otras Protestas',
                        'Otros',
                        'Autoridades'
                    ],
                    title: {
                        text: null // No hay título para el eje de categorías
                    },
                    labels: {
                         style: {
                            fontSize: '12px' // Ajusta el tamaño de fuente de las categorías
                        }
                    }
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'No. de Luchas sociales', // Título del eje de valores (horizontal)
                        align: 'high' // Alinea el título al final del eje
                    },
                     labels: {
                        overflow: 'justify'
                    }
                },
                tooltip: {
                    // Formato del tooltip: muestra la categoría y el valor
                    format: '{point.category}: {point.y}'
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true, // Muestra el valor sobre cada barra
                            align: 'right', // Alinea el valor a la derecha de la barra
                            format: '{point.y}', // Formato del data label: solo el valor Y
                            style: {
                                fontWeight: 'bold'
                            }
                        },
                         // Color predeterminado para todas las barras
                         color: '#c7f425' // Un verde claro, similar a la referencia
                    }
                },
                 legend: {
                    enabled: false // No necesitamos leyenda para una sola serie
                },
                credits: {
                    enabled: false // Deshabilita los créditos de Highcharts
                },
                series: [{
                    name: 'Luchas sociales', // Nombre de la serie (aparece en el tooltip)
                    // Datos correspondientes a cada categoría en el mismo orden que categories
                    data: [508, 321, 317, 245, 166, 150, 54, 34, 25, 20, 15, 10, 10]
                    // El color ya está definido en plotOptions, pero puedes anularlo aquí
                    // color: '#58D68D' // Un verde claro, similar a la referencia
                }]
            });
        });
    </script>
</body>
</html>