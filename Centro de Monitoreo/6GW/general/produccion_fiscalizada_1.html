<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producción Fiscalizada de Gas Natural</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
</head>
<body>
    <div id="container" style="width:100%; height:600px;"></div>
    <script>
        const csv = `
,Año,Departamento,Valor
0,2015,ANTIOQUIA,0.32857583333333334
1,2015,ARAUCA,0.277137037037037
2,2015,ATLANTICO,0.24805999999999997
3,2015,BOLIVAR,1.9320072222222224
4,2015,BOYACA,1.3350261666666665
5,2015,BOYACÁ,31.7569125
6,2015,CASANARE,15.830240424528302
7,2015,CAUCA,0.0024525000000000003
8,2015,CESAR,0.37907588235294115
9,2015,CORDOBA,3.390911111111111
10,2015,CUNDINAMARCA,1.1076147222222223
11,2015,GUAJIRA,109.79899
12,2015,HUILA,0.743651314102564
13,2015,MAGDALENA,2.3661845833333333
14,2015,META,0.7370973333333333
15,2015,NARIÑO,1.8127141666666666
16,2015,NORTE DE SANTANDER,0.8048643055555555
17,2015,PUTUMAYO,0.6546683333333333
18,2015,SANTANDER,2.4216113257575755
19,2015,SUCRE,8.724614444444445
20,2015,TOLIMA,0.45909608974358973
21,2016,ANTIOQUIA,0.2443887037037037
22,2016,ARAUCA,0.2289875925925926
23,2016,ATLANTICO,1.8982341666666667
24,2016,BOLIVAR,1.5414527083333331
25,2016,BOYACA,3.6328535714285715
26,2016,CASANARE,18.10985287037037
27,2016,CAUCA,0.004338333333333333
28,2016,CESAR,0.5268078947368421
29,2016,CORDOBA,8.00380523809524
30,2016,CUNDINAMARCA,0.9481983333333334
31,2016,GUAJIRA,171.55164833333333
32,2016,HUILA,0.7975655434782609
33,2016,MAGDALENA,3.049868666666667
34,2016,META,0.7779161111111111
35,2016,NARIÑO,2.366286666666667
36,2016,NORTE DE SANTANDER,0.6261905555555556
37,2016,PUTUMAYO,0.721324696969697
38,2016,SANTANDER,1.8659956609195403
39,2016,SUCRE,7.5332478125
40,2016,TOLIMA,0.7442363888888889
41,2017,ANTIOQUIA,0.3760627380952381
42,2017,ARAUCA,0.19739731481481482
43,2017,ATLANTICO,3.1760983333333335
44,2017,BOLIVAR,1.3595075
45,2017,BOYACA,1.3861427083333335
46,2017,BOYACÁ,40.71111833333333
47,2017,CASANARE,17.373677109375002
48,2017,CAUCA,0.0034158333333333332
49,2017,CESAR,0.7432899166666667
50,2017,CORDOBA,7.074592222222223
51,2017,CUNDINAMARCA,0.6628680555555556
52,2017,GUAJIRA,139.6899375
53,2017,HUILA,0.37999945652173917
54,2017,MAGDALENA,3.6870534999999998
55,2017,META,0.5956800000000001
56,2017,NARIÑO,0.9993645833333334
57,2017,NORTE DE SANTANDER,0.39630493589743593
58,2017,PUTUMAYO,0.44135655092592596
59,2017,SANTANDER,1.738904732142857
60,2017,SUCRE,7.513138583333333
61,2017,TOLIMA,0.5526302777777778
62,2018,ANTIOQUIA,0.3116463558353449
63,2018,ARAUCA,0.2167546979326677
64,2018,ATLANTICO,4.321509140841013
65,2018,BOLIVAR,0.6118403901529698
66,2018,BOYACA,1.563443795268352
67,2018,CASANARE,19.389518242869638
68,2018,CAUCA,0.003037848182283666
69,2018,CESAR,0.9016620944502962
70,2018,CORDOBA,6.344132615241837
71,2018,CUNDINAMARCA,0.7820891816436251
72,2018,GUAJIRA,79.43683284973972
73,2018,HUILA,0.5843220427649769
74,2018,MAGDALENA,2.5827551260240655
75,2018,META,0.491595753607342
76,2018,NARIÑO,1.5845480971582182
77,2018,NORTE DE SANTANDER,4.909555997582067
78,2018,PUTUMAYO,0.4929199108576549
79,2018,SANTANDER,1.5925321963071841
80,2018,SUCRE,7.718226528266536
81,2018,TOLIMA,0.5886206953179121
82,2019,ANTIOQUIA,0.23320166666666667
83,2019,ARAUCA,0.3481145150951199
84,2019,ATLANTICO,8.5387725
85,2019,BOLIVAR,1.5897954166666668
86,2019,BOYACA,1.377193076923077
87,2019,CASANARE,17.085239505494506
88,2019,CAUCA,0.00036
89,2019,CESAR,1.0672031746031747
90,2019,CORDOBA,10.296846388888888
91,2019,CUNDINAMARCA,0.651045
92,2019,GUAJIRA,93.15784541666666
93,2019,HUILA,0.5574680666666667
94,2019,MAGDALENA,2.8646979999999997
95,2019,META,0.4502881359649123
96,2019,NARIÑO,1.7494558333333332
97,2019,NORTE DE SANTANDER,4.440086296296296
98,2019,PUTUMAYO,0.4107308120692032
99,2019,SANTANDER,1.5850949333333333
100,2019,SUCRE,9.875487583333333
101,2019,TOLIMA,0.4995173333333333
102,2020,ANTIOQUIA,0.24029035714285715
103,2020,ARAUCA,0.4012189855072464
104,2020,ATLANTICO,11.901038333333332
105,2020,BOLIVAR,1.5905389583333331
106,2020,BOYACA,1.005395303030303
107,2020,CASANARE,16.265515284313725
108,2020,CAUCA,0.0003958333333333333
109,2020,CESAR,1.0939202083333333
110,2020,CORDOBA,5.848857598039216
111,2020,CUNDINAMARCA,0.49711583333333337
112,2020,GUAJIRA,26.740654666666668
113,2020,HUILA,0.5078775641025641
114,2020,MAGDALENA,1.4254870833333333
115,2020,META,0.34444430555555555
116,2020,NARIÑO,0.46157583333333335
117,2020,NORTE DE SANTANDER,4.6729715625
118,2020,PUTUMAYO,0.24984439102564102
119,2020,SANTANDER,1.3834157142857142
120,2020,SUCRE,8.865841987179486
121,2020,TOLIMA,0.3798482971014493
122,2021,ANTIOQUIA,0.183865
123,2021,ARAUCA,0.42268524305555555
124,2021,ATLANTICO,13.923572499999999
125,2021,BOLIVAR,1.4936214583333332
126,2021,BOYACA,0.6573383854166667
127,2021,CASANARE,17.48807232876712
128,2021,CESAR,0.7789654365079365
129,2021,CORDOBA,9.373613392857143
130,2021,CUNDINAMARCA,0.08172791666666666
131,2021,GUAJIRA,65.92065333333333
132,2021,HUILA,0.5226467666666667
133,2021,MAGDALENA,3.4725586111111113
134,2021,META,0.5492101881720429
135,2021,NARIÑO,0.5068995833333334
136,2021,NORTE DE SANTANDER,3.730403229166667
137,2021,PUTUMAYO,0.18493678571428573
138,2021,SANTANDER,1.818212857142857
139,2021,SUCRE,7.8982375
140,2021,TOLIMA,0.32883166666666663
141,2022,ANTIOQUIA,0.2788522619047619
142,2022,ARAUCA,0.4000568333333333
143,2022,ATLANTICO,15.02984875
144,2022,BOLIVAR,1.7488705555555557
145,2022,BOYACA,4.324568712121212
146,2022,CASANARE,14.350825443722945
147,2022,CESAR,0.7861418677042801
148,2022,CORDOBA,8.44989943452381
149,2022,GUAJIRA,43.1695975
150,2022,HUILA,0.4856990740740741
151,2022,MAGDALENA,6.846018333333333
152,2022,META,0.5504056376262626
153,2022,NARIÑO,4.1676225
154,2022,NORTE DE SANTANDER,0.6684792708333333
155,2022,PUTUMAYO,0.37160769927536236
156,2022,SANTANDER,1.5960097727272728
157,2022,SUCRE,8.999131597222222
158,2022,TOLIMA,0.3346615873015873
159,2023,ANTIOQUIA,0.3127814285714286
160,2023,ARAUCA,0.29698540229885056
161,2023,ATLANTICO,35.281528333333334
162,2023,BOLIVAR,1.9852566666666667
163,2023,BOYACA,3.956933787878788
164,2023,CASANARE,13.524554383561645
165,2023,CESAR,0.8403975
166,2023,CORDOBA,7.29222109375
167,2023,GUAJIRA,37.435788333333335
168,2023,HUILA,0.5783584782608695
169,2023,MAGDALENA,7.902871111111111
170,2023,META,0.4083638815789474
171,2023,NARIÑO,2.6209108333333333
172,2023,NORTE DE SANTANDER,0.9101541666666667
173,2023,PUTUMAYO,0.3838890705128205
174,2023,SANTANDER,1.654511553030303
175,2023,SUCRE,8.085567051282052
176,2023,TOLIMA,0.24321114583333334
177,2024,ANTIOQUIA,0.2778675
178,2024,ARAUCA,0.36067252688172047
179,2024,ATLANTICO,29.71969
180,2024,BOLIVAR,1.5997533333333331
181,2024,BOYACA,3.683409513888889
182,2024,CASANARE,12.328683721461186
183,2024,CESAR,0.989925
184,2024,CORDOBA,5.673235787037037
185,2024,GUAJIRA,35.45216694444444
186,2024,HUILA,0.5615892045454545
187,2024,MAGDALENA,10.024745000000001
188,2024,META,0.34720979166666666
189,2024,NARIÑO,2.0867633333333333
190,2024,NORTE DE SANTANDER,0.7619557291666667
191,2024,PUTUMAYO,0.36344553333333335
192,2024,SANTANDER,1.7059729761904763
193,2024,SUCRE,11.113997777777778
194,2024,TOLIMA,0.23407742424242423
195,2025,ANTIOQUIA,0.3446592857142857
196,2025,ARAUCA,0.469724074074074
197,2025,ATLANTICO,15.664985000000001
198,2025,BOLIVAR,1.608945
199,2025,BOYACA,2.9098527272727277
200,2025,CASANARE,12.935273384615384
201,2025,CESAR,0.9849708333333332
202,2025,CORDOBA,6.057813076923077
203,2025,GUAJIRA,29.885873333333336
204,2025,HUILA,0.6172730952380953
205,2025,MAGDALENA,11.667028333333334
206,2025,META,0.3999770588235294
207,2025,NORTE DE SANTANDER,0.7534775
208,2025,PUTUMAYO,0.34807456521739133
209,2025,SANTANDER,1.6930195238095238
210,2025,SUCRE,16.452825
211,2025,TOLIMA,0.2929671052631579
`;
        drawChart(csv);

        function drawChart(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].replace(/^\W+/, '').split(',');
            const data = lines.slice(1).map(line => line.split(','));

            const anios = [...new Set(data.map(row => row[1]))];
            const departamentos = [...new Set(data.map(row => row[2]))];

            const series = departamentos.map(depto => {
                return {
                    name: depto,
                    data: anios.map(anio => {
                        const found = data.find(row => row[1] === anio && row[2] === depto);
                        return found ? parseFloat(found[3]) : 0;
                    })
                };
            });

            Highcharts.chart('container', {
                chart: { type: 'area' },
                title: { text: 'Producción Fiscalizada de Gas Natural (MPCDC)' },
                legend: {
                align: 'center',
                verticalAlign: 'top',
                layout: 'horizontal'},
                xAxis: {
                    categories: anios,
                    title: { text: 'Año' }
                },
                yAxis: {
                    title: { text: 'Producción Fiscalizada (MPCDC)' ,
                        style: { fontWeight: 'bold' },
            }
                },
                tooltip: {
                    shared: true,
                    valueDecimals: 2
                },
                plotOptions: {
                    area: {
                        stacking: 'normal',
                        marker: { enabled: false }
                    }
                },
                series: series
            });
        }
    </script>
</body>
</html>